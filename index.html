<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <!-- HTML -->
  <!-- Basic SEO -->
<title>RedoTech Service Center | Track Your Repair</title>
<meta name="description" content="RedoTech Service Center - Track your mobile and device repair status in real time. Fast, reliable service updates." />
<meta name="keywords" content="RedoTech, mobile service, repair tracking, phone repair, service center" />
<meta name="author" content="RedoTech" />

<!-- Viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PWA -->
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#020617">

<!-- iOS Support -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="RedoTech">

<!-- App Icons -->
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512.png">

<!-- Open Graph (WhatsApp, FB preview) -->
<meta property="og:title" content="RedoTech Service Tracking">
<meta property="og:description" content="Track your device repair status live with RedoTech.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://redotech.vercel.app">
<meta property="og:image" content="https://redotech.vercel.app/icons/icon-512.png">


<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-startup-image" href="/icons/splash.png">


  <!-- Custom Styles -->
  <link rel="stylesheet" href="./style.css">
  <link rel="preconnect" href="https://www.gstatic.com">
<link rel="preconnect" href="https://firebasedatabase.googleapis.com">
</head>

<body>
 <button id="installBtn" class="install-btn hidden">
  ðŸ“² Install RedoTech App
</button>
  <section style="display:none">
  <h1>RedoTech Mobile Service Center</h1>
  <p>RedoTech provides fast mobile phone repair, service tracking, and real-time repair status updates.</p>
  <p>Track your phone repair online with RedoTech service center system.</p>
  
  
  <!-- Trigger stays same -->
<div class="rt-search-wrapper">
  <svg xmlns="http://www.w3.org/2000/svg" class="rt-search-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
  </svg>
  <span class="rt-search-placeholder">Search tickets, name, phone...</span>
</div>




</section>
    <div class="page">
      <header class="topbar">
        <div>
          
            
          
          <h1>Repair desk</h1>


        
          <div class="rt-search-wrapper">
  <svg xmlns="http://www.w3.org/2000/svg" class="rt-search-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
  </svg>

  <span class="rt-search-placeholder mute hidden" id="openSearchView">
    Search by name, phone, ID...
  </span>
        <input 
      type="text" 
      id="rtSearchInput"
      placeholder="Search name, phone, ID..."
      autofocus
    />
    <!-- Open Filter Button -->
  <button class="rt-filter-btn ghost" id="openFilterPopup">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
</svg>
  </button>
</div>

        </div>
        
           <div class="user-chip">
             <span id="emailLabel"></span>
             <button class="ghost" id="logout-btn">
               <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                 <path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
               </svg>
             </button>
           </div>

       
      </header>

      <section class="grid">
        <div class="card view hidden" id="formView">
          <div class="card-header">
            <h2>New Service</h2>
            <p class="muted">Create a repair record while customer waits.</p>
          </div>
          <form class="form">
            <div class="split">
              <label class="field">
                <span>Customer name</span>
                <input
                  placeholder="John Doe"
                  required
                  id="name"
                />
              </label>
              <label class="field">
                <span>Phone number</span>
                <input
                  placeholder="+1 555 123 9876"
                  required 
                  id="number"
                  type="number"
                />
              </label>
            </div>
            <div class="split">
              <label class="field">
                <span>Device</span>
                <input
                  placeholder="iPhone 15 Pro"
                  required
                  id="device"
                />
              </label>
              <label class="field">
                <span>Issue description</span>
                <textarea
                  rows="3"
                  placeholder="Screen cracked, no face ID..."
                  required
                  id="issue"
                ></textarea>
            </label>
            
              <label class="field">
                <span>Status</span>
                <select>
                  <option value="pending">Pending</option>
                  <option value="in-progress">In progress</option>
                  <option value="waiting-parts">Waiting for parts</option>
                  <option value="ready">Ready for pickup</option>
                  <option value="done">Done</option>
                </select>
              </label>
            </div>
            
            <div class="split">
              <label class="field">
                <span>Estimate Rate</span>
                <input type="number" placeholder="0" id="amount" />
              </label>
              <label class="field">
                <span>Advance</span>
                <input type="number" placeholder="0" id="advance" />
              </label>
            </div>
            
            <button class="primary" type="submit">
              Add customer
            </button>
          </form>
          <p class="error authError"></p>
        </div>

        <div class="card view hidden" id="serviceView">
          <div class="card-header">
            <h2>Services</h2>
            <p class="muted">Live list stored in DB.</p>
          </div>
      
            <p class="muted" id="loadingLabel">Loading...</p>
           
          
            <ul class="list" id="customerList"></ul>
          
        </div>
      </section>
    </div>
    <button class="ghost fab">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
</svg>
    </button>
    
    
    
    
    <!-- Fullscreen Search -->
<div class="rt-search-modal view hidden" id="searchViewoffff">
  
  <div class="rt-search-header">
    <input 
      type="text" 
      id="rtSearchInput"
      placeholder="Search customer, phone, ticket ID..."
      autofocus
    />
    <button class="rt-search-cancel" id="closeSearchModal">Cancel</button>
  </div>

  <div class="rt-search-results hidden" id="rtSearchResults">
    <!-- Results injected here -->
  </div>
</div>








<!-- Filter Popup -->
<div class="rt-filter-popup" id="rtFilterPopup">
  <div class="rt-filter-sheet">

    <div class="rt-filter-handle"></div>

    <div class="rt-filter-header">
      <h3>Filter Results</h3>
      <button id="closeFilterPopup">Cancel</button>
    </div>

    <!-- Date -->
    <div class="rt-filter-group">
      <label>Date Range</label>
      <div class="rt-filter-row">
        <input type="date" id="filterFromDate">
        <input type="date" id="filterToDate">
      </div>
    </div>

    <!-- Amount -->
    <div class="rt-filter-group">
      <label>Amount</label>
      <div class="rt-filter-row">
        <input type="number" id="filterMinAmount" placeholder="Min â‚¹">
        <input type="number" id="filterMaxAmount" placeholder="Max â‚¹">
      </div>
    </div>

    <!-- Name -->
    <div class="rt-filter-group">
      <label>Customer Name</label>
      <input type="text" id="filterName" placeholder="Enter name">
    </div>

    <!-- Phone -->
    <div class="rt-filter-group">
      <label>Phone Number</label>
      <input type="text" id="filterPhone" placeholder="Enter number">
    </div>

    <button class="rt-filter-apply" id="applyFilters">
      Apply Filters
    </button>

  </div>
</div>


  <script type="module" src="./main.js"></script>
  
  <script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then(reg => console.log('SW registered', reg))
      .catch(err => console.error('SW failed', err));
  });
}
</script>
</body>
</html>